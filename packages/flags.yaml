
flags:
  input_number:
    batt_threshold_display_cell:
      name: Threshold of Cell Battery to Display
      mode: box
      min: 40
      max: 100
    batt_threshold_display_tablet:
      name: Threshold of Tablet Battery to Display
      mode: box
      min: 40
      max: 100
    batt_threshold_display_zte:
      name: Threshold of ZTE Battery to Display
      mode: box
      min: 40
      max: 100


  binary_sensor:
    - platform: template
      sensors:
        bedroom_tv_on:
          friendly_name: MBR TV On
          value_template: >
            {% if states("sensor.neo_green_1_bedroom_tv_electric_consumed_w") | float > 30 %}
              True
            {% else %}
              False
            {% endif %}
        family_room_tv_on:
          friendly_name: Family Room TV On
          value_template: >
            {% set fam_tv_state = states('sensor.harmony_family_room_status') %}
            {% if (fam_tv_state == "Watch TiVo" or fam_tv_state == "Watch Chromecast" or fam_tv_state == "Watch a Blue-ray") %}
              True
            {% else %}
              False
            {% endif %}
        any_tv_on:
          friendly_name: Any TV On
          value_template: >
            {% if is_state('binary_sensor.bedroom_tv_on','on') or is_state('binary_sensor.family_room_tv_on','on') %}
              True
            {% else %}
              False
            {% endif %}


        tablet_battery_below_threshold:
          friendly_name: Tablet Battery Below Threshold
          value_template: >
            {% if states('sensor.davids_tablet_battery_level') | int < states('input_number.batt_threshold_display_tablet') | int %}
              True
            {% else %}
              False
            {% endif %}
        davids_cell_battery_below_threshold:
          friendly_name: Cell Battery Below Threshold
          value_template: >
            {% if states('sensor.davids_cell_battery_level') | int < states('input_number.batt_threshold_display_cell') | int %}
              True
            {% else %}
              False
            {% endif %}
        zte_axon_battery_below_threshold:
          friendly_name: ZTE Phone Battery Below Threshold
          value_template: >
            {% if states('sensor.zte_axon_battery_level') | int < states('input_number.batt_threshold_display_zte') | int %}
              True
            {% else %}
              False
            {% endif %}
